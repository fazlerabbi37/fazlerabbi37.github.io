<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta charset="utf-8"/>
<meta name="generator" content="Docutils 0.14: http://docutils.sourceforge.net/" />
<title>fDLuDCf's Practical Cryptography: Lesson 08</title>
<style type="text/css">

/* Minimal style sheet for the HTML output of Docutils.                    */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: minimal.css 8036 2017-02-14 13:05:46Z milde $               */
/* :Copyright: © 2015 Günter Milde.                                        */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*                                                                         */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */

/* This CSS2.1_ stylesheet defines rules for Docutils elements without    */
/* HTML equivalent. It is required to make the document semantic visible. */
/*                                                                        */
/* .. _CSS2.1: http://www.w3.org/TR/CSS2                                  */
/* .. _validates: http://jigsaw.w3.org/css-validator/validator$link       */

/* alignment of text and inline objects inside block objects*/
.align-left   { text-align: left; }
.align-right  { text-align: right; }
.align-center { clear: both; text-align: center; }
.align-top    { vertical-align: top; }
.align-middle { vertical-align: middle; }
.align-bottom { vertical-align: bottom; }

/* titles */
h1.title, p.subtitle {
  text-align: center;
}
p.admonition-title,
p.topic-title,
p.sidebar-title,
p.rubric,
p.system-message-title {
  font-weight: bold;
}
h1 + p.subtitle,
h1 + p.section-subtitle {
  font-size: 1.6em;
}
h2 + p.section-subtitle { font-size: 1.28em; }
p.subtitle,
p.section-subtitle,
p.sidebar-subtitle {
  font-weight: bold;
  margin-top: -0.5em;
}
p.sidebar-title,
p.rubric {
  font-size: larger;
}
p.rubric { color: maroon; }
a.toc-backref {
  color: black;
  text-decoration: none; }

/* Warnings, Errors */
div.caution p.admonition-title,
div.attention p.admonition-title,
div.danger p.admonition-title,
div.error p.admonition-title,
div.warning p.admonition-title,
div.system-messages h1,
div.error,
span.problematic,
p.system-message-title {
  color: red;
}

/* inline literals */
span.docutils.literal {
  font-family: monospace;
  white-space: pre-wrap;
}
/* do not wraph at hyphens and similar: */
.literal > span.pre { white-space: nowrap; }

/* Lists */

/* compact and simple lists: no margin between items */
.simple  li, .compact li,
.simple  ul, .compact ul,
.simple  ol, .compact ol,
.simple > li p, .compact > li p,
dl.simple > dd, dl.compact > dd {
  margin-top: 0;
  margin-bottom: 0;
}

/* Table of Contents */
div.topic.contents { margin: 0; }
ul.auto-toc {
  list-style-type: none;
  padding-left: 1.5em; }

/* Enumerated Lists */
ol.arabic     { list-style: decimal }
ol.loweralpha { list-style: lower-alpha }
ol.upperalpha { list-style: upper-alpha }
ol.lowerroman { list-style: lower-roman }
ol.upperroman { list-style: upper-roman }

dt span.classifier { font-style: italic }
dt span.classifier:before {
  font-style: normal;
  margin: 0.5em;
  content: ":";
}

/* Field Lists and drivatives */
/* bold field name, content starts on the same line */
dl.field-list > dt,
dl.option-list > dt,
dl.docinfo > dt,
dl.footnote > dt,
dl.citation > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.5em;
}
/* Offset for field content (corresponds to the --field-name-limit option) */
dl.field-list > dd,
dl.option-list > dd,
dl.docinfo > dd {
  margin-left:  9em; /* ca. 14 chars in the test examples */
}
/* start field-body on a new line after long field names */
dl.field-list > dd > *:first-child,
dl.option-list > dd > *:first-child
{
  display: inline-block;
  width: 100%;
  margin: 0;
}
/* field names followed by a colon */
dl.field-list > dt:after,
dl.docinfo > dt:after {
  content: ":";
}

/* Bibliographic Fields (docinfo) */
pre.address { font: inherit; }
dd.authors > p { margin: 0; }

/* Option Lists */
dl.option-list { margin-left: 40px; }
dl.option-list > dt { font-weight: normal; }
span.option { white-space: nowrap; }

/* Footnotes and Citations  */
dl.footnote.superscript > dd {margin-left: 1em; }
dl.footnote.brackets > dd {margin-left: 2em; }
dl > dt.label { font-weight: normal; }
a.footnote-reference.brackets:before,
dt.label > span.brackets:before { content: "["; }
a.footnote-reference.brackets:after,
dt.label > span.brackets:after { content: "]"; }
a.footnote-reference.superscript,
dl.footnote.superscript > dt.label {
  vertical-align: super;
  font-size: smaller;
}
dt.label > span.fn-backref { margin-left: 0.2em; }
dt.label > span.fn-backref > a { font-style: italic; }

/* Line Blocks */
div.line-block { display: block; }
div.line-block div.line-block {
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 40px;
}

/* Figures, Images, and Tables */
.figure.align-left,
img.align-left,
object.align-left,
table.align-left {
  margin-right: auto;
}
.figure.align-center,
img.align-center,
object.align-center {
  margin-left: auto;
  margin-right: auto;
  display: block;
}
table.align-center {
  margin-left: auto;
  margin-right: auto;
}
.figure.align-right,
img.align-right,
object.align-right,
table.align-right {
  margin-left: auto;
}
/* reset inner alignment in figures and tables */
/* div.align-left, div.align-center, div.align-right, */
table.align-left, table.align-center, table.align-right
{ text-align: inherit }

/* Admonitions and System Messages */
div.admonition,
div.system-message,
div.sidebar{
  margin: 40px;
  border: medium outset;
  padding-right: 1em;
  padding-left: 1em;
}

/* Sidebar */
div.sidebar {
  width: 30%;
  max-width: 26em;
  float: right;
  clear: right;
}

/* Text Blocks */
div.topic,
pre.literal-block,
pre.doctest-block,
pre.math,
pre.code {
  margin-right: 40px;
  margin-left: 40px;
}
pre.code .ln { color: gray; } /* line numbers */

/* Tables */
table { border-collapse: collapse; }
td, th {
  border-style: solid;
  border-color: silver;
  padding: 0 1ex;
  border-width: thin;
}
td > p:first-child, th > p:first-child { margin-top: 0; }
td > p, th > p { margin-bottom: 0; }

table > caption {
  text-align: left;
  margin-bottom: 0.25em
}

table.borderless td, table.borderless th {
  border: 0;
  padding: 0;
  padding-right: 0.5em /* separate table cells */
}

</style>
<style type="text/css">

/* CSS31_ style sheet for the output of Docutils HTML writers.             */
/* Rules for easy reading and pre-defined style variants.		   */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: plain.css 8120 2017-06-22 21:02:40Z milde $               */
/* :Copyright: © 2015 Günter Milde.                                        */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*    	     	      	     	 					   */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */
/* .. _CSS3: http://www.w3.org/TR/CSS3		        		   */


/* Document Structure */
/* ****************** */

/* "page layout" */
body {
  padding: 0 5%;
  margin: 8px 0;
}
div.document {
  line-height:1.3;
  counter-reset: table;
  /* counter-reset: figure; */
  /* avoid long lines --> better reading */
  /* OTOH: lines should not be too short because of missing hyphenation, */
  max-width: 50em;
  margin: auto;
}

/* Sections */

/* Transitions */

hr.docutils {
  width: 80%;
  margin-top: 1em;
  margin-bottom: 1em;
  clear: both;
}

/* Paragraphs               */
/* ==========               */

/* vertical space (parskip) */
p, ol, ul, dl,
div.line-block,
table{
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}
h1, h2, h3, h4, h5, h6,
dl > dd {
  margin-bottom: 0.5em;
}

/* Lists                    */
/* ==========               */

/* Definition Lists         */

dl > dd > p:first-child { margin-top: 0; }
/* :last-child is not part of CSS 2.1 (introduced in CSS 3) */
dl > dd > p:last-child  { margin-bottom: 0; }

/* lists nested in definition lists */
/* :only-child is not part of CSS 2.1 (introduced in CSS 3) */
dd > ul:only-child, dd > ol:only-child { padding-left: 1em; }

/* Description Lists */
/* styled like in most dictionaries, encyclopedias etc. */
dl.description > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.5em;
}

/* Field Lists */

/* example for custom field-name width */
dl.field-list.narrow > dd {
  margin-left: 5em;
}
/* run-in: start field-body on same line after long field names */
dl.field-list.run-in > dd p {
  display: block;
}

/* Bibliographic Fields */

/* generally, bibliographic fields use special definition list dl.docinfo */
/* but dedication and abstract are placed into "topic" divs */
div.abstract p.topic-title {
  text-align: center;
}
div.dedication {
  margin: 2em 5em;
  text-align: center;
  font-style: italic;
}
div.dedication p.topic-title {
  font-style: normal;
}

/* Citations */
dl.citation dt.label {
  font-weight: bold;
}
span.fn-backref {
  font-weight: normal;
}

/* Text Blocks           */
/* ============          */

/* Literal Blocks           */
pre.literal-block, pre.doctest-block,
pre.math, pre.code {
  margin-left: 1.5em;
  margin-right: 1.5em
}

/* Block Quotes             */

blockquote,
div.topic {
  margin-left: 1.5em;
  margin-right: 1.5em
}
blockquote > table,
div.topic > table {
  margin-top: 0;
  margin-bottom: 0;
}
blockquote p.attribution,
div.topic p.attribution {
  text-align: right;
  margin-left: 20%;
}

/* Tables                   */
/* ======                   */

/* th { vertical-align: bottom; } */

table tr { text-align: left; }

/* "booktabs" style (no vertical lines) */
table.booktabs {
  border: 0;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.booktabs * {
  border: 0;
}
table.booktabs th {
  border-bottom: thin solid;
}

/* numbered tables (counter defined in div.document) */
table.numbered > caption:before {
  counter-increment: table;
  content: "Table " counter(table) ": ";
  font-weight: bold;
}

/* Explicit Markup Blocks   */
/* ======================   */

/* Footnotes and Citations  */
/* -----------------------  */

/* line on the left */
dl.footnote {
  padding-left: 1ex;
  border-left: solid;
  border-left-width: thin;
}

/* Directives               */
/* ----------               */

/* Body Elements            */
/* ~~~~~~~~~~~~~            */

/* Images and Figures */

/* let content flow to the side of aligned images and figures */
.figure.align-left,
img.align-left,
object.align-left {
  display: block;
  clear: left;
  float: left;
  margin-right: 1em
}
.figure.align-right,
img.align-right,
object.align-right {
  display: block;
  clear: right;
  float: right;
  margin-left: 1em
}
/* Stop floating sidebars, images and figures at section level 1,2,3 */
h1, h2, h3 { clear: both; }

/* Sidebar */

/* Move into the margin. In a layout with fixed margins, */
/* it can be moved into the margin completely.		 */
div.sidebar {
  width: 30%;
  max-width: 26em;
  margin-left: 1em;
  margin-right: -5.5%;
  background-color: #ffffee ;
}

/* Code                     */

pre.code, code { background-color: #eeeeee }
pre.code .ln { color: gray; } /* line numbers */
/* basic highlighting: for a complete scheme, see */
/* http://docutils.sourceforge.net/sandbox/stylesheets/ */
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

/* Math                     */
/* styled separately (see math.css for math-output=HTML) */

/* Epigraph                 */
/* Highlights               */
/* Pull-Quote               */
/* Compound Paragraph       */
/* Container                */

/* can be styled in a custom stylesheet */

/* Document Header and Footer */

div.footer, div.header {
  clear: both;
  font-size: smaller;
}

/* Inline Markup            */
/* =============            */

/* Emphasis                 */
/*   em                     */
/* Strong Emphasis          */
/*   strong		    */
/* Interpreted Text         */
/*   span.interpreted  	    */
/* Title Reference 	    */
/*   cite		    */
/* Inline Literals          */
/* possible values: normal, nowrap, pre, pre-wrap, pre-line */
/*   span.docutils.literal { white-space: pre-wrap; } */

/* Hyperlink References     */
a { text-decoration: none; }

/* External Targets         */
/*   span.target.external   */
/* Internal Targets  	    */
/*   span.target.internal   */
/* Footnote References      */
/*   a.footnote-reference   */
/* Citation References      */
/*   a.citation-reference   */

</style>
<style type="text/css">

/* style for keyboard key rendering */
.kbd {
    -moz-border-radius:3px;
    -moz-box-shadow:0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
    -webkit-border-radius:3px;
    -webkit-box-shadow:0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
    background-color:#f7f7f7;
    border:1px solid #ccc;
    border-radius:3px;
    box-shadow:0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
    color:#333;
    display:inline-block;
    font-family:Arial,Helvetica,sans-serif;
    font-size:15px;
    line-height:1.4;
    margin:0 .1em;
    padding:.1em .6em;
    text-shadow:0 1px 0 #fff;
}


/* this one fixes the overflow problem for sidebar*/
h1, h2, h3 { 
    clear: none;     
}

/* strike through is not supported in rST this enables it*/
.strike {
  text-decoration: line-through;
}

</style>
</head>
<body>
<div class="document" id="fdludcf-s-practical-cryptography-lesson-08">
<h1 class="title">fDLuDCf's Practical Cryptography: Lesson 08</h1>

<p><a class="reference external" href="../blog.html">&lt; Blog</a></p>
<p>fDLuDCf's Practical Cryptography DLC: Cryptographic Protocols</p>
<p>Created on: 2020-03-07</p>
<p>Tag: <a class="reference external" href="tag_cryptography.html">cryptography</a></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is my class-note for <a class="reference external" href="https://dle.asiaconnect.bdren.net.bd/upcoming_event/practical-cryptography">fDLuDCf's Practical Cryptography DLC</a>. I typed out what I thought to be importent and note worthy from the lecture and the slides. This is by no means guilde or complete reference for the course.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>this note has numeras spelling mistakes and not yet fixed.</p>
</div>
<div class="section" id="class-slides">
<h1>Class Slides</h1>
<p>The slides for Lesson 01 is available <a class="reference external" href="https://dle.asiaconnect.bdren.net.bd/DLE-3/L8(Protocols).pdf">here</a>.</p>
</div>
<div class="section" id="class-video">
<h1>Class Video</h1>
<p>The video for all lessons are available in the <a class="reference external" href="https://dle.asiaconnect.bdren.net.bd/dle-course-3-practical-cryptography/">video page</a></p>
</div>
<div class="section" id="notes">
<h1>Notes</h1>
<ul class="simple">
<li><dl class="simple">
<dt>Practical cryptographic protocols [see slide 2 for the list of service]</dt>
<dd><ul>
<li><p>IPSec: protect the comms between two networks, host to host</p></li>
<li><p>DNSSEC: provide security for DNS system. Confidentiality is not archived, authenticity is.</p></li>
<li><p>PCT: introduced by Microsoft. in 1990. parallel to SSL.</p></li>
<li><p>SSL: introduced by Netscape now Mozilla at the same time as PCT. People agreed to use SSL and dropped PCT</p></li>
<li><p>TLS: Internet Engineering Task Force (IEFT) took the SSL and standardised internationally. most used protocol. will be discussed more in details</p></li>
<li><dl class="simple">
<dt>SET: historical money transfer protocol</dt>
<dd><ul>
<li><p>now a day's cryptocurrency use cryptography more intensely where mostly hashing and public key crypto</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Cybercash: also a historical money transfer protocol</p></li>
<li><p>PGP: email encryption. de facto industry protocol and people use voluntarily</p></li>
<li><p>S/MIME: internationally standardised protocol for email</p></li>
<li><p>SSH: for remote login. used as both authentication and encryption protocol. based on public key cryptography. server client mode. where they may both have public and private key. If the server has public-private key and client don't then authentication is provided by username and password and session key and encryption is done by public private key,</p></li>
<li><p>We will only read about TLS and PGP</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Before we start TLS: What is SSL</dt>
<dd><ul>
<li><p>SSL 1.0 is by Netscape in 1994</p></li>
<li><p>S-HTTP so web only</p></li>
<li><p>competition with PCT by Microsoft and PCT lost the competition</p></li>
<li><p>IETF standard it in and created TLS 1.0 in 1999</p></li>
<li><p>Now most of the web server usages TLS 1.2</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS</dt>
<dd><ul>
<li><p>authentication of the web server, encryption of web server and integrity of data</p></li>
<li><p>authentication of browser is possible but optional</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS internal</dt>
<dd><ul>
<li><p>not to confuse with TCP. TLS works in application layer and build on top of TCP layer</p></li>
<li><p>HTTP, Telnet, FTP and LDAP is also part of application layer and TLS sits between this and TCP layer</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS protocol stack [see slide 7 for picture]</dt>
<dd><ul>
<li><p>application protocols like HTTP, Telnet, SMTP, FTP talks to TLS</p></li>
<li><p>TLS then communicates with TCP layer</p></li>
<li><p>When HTTP goes via TLS we call it HTTPS (HTTP Secure), when it talks to TCP layer directly it is just HTTP so are other protocols</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS on action:</dt>
<dd><ul>
<li><dl class="simple">
<dt>Establishing a session</dt>
<dd><ul>
<li><p>agrees on algorithm</p></li>
<li><p>shares secret</p></li>
<li><p>perform authentication</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Transferring application data</dt>
<dd><ul>
<li><p>data encryption</p></li>
<li><p>data integrity</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS: task on server</dt>
<dd><ul>
<li><p>server generates a key pair and stores the private key in a secure storage ie. Hardware Security Modules(HSM)</p></li>
<li><p>public key is published as digital certificates</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS: browser to server</dt>
<dd><ul>
<li><p>supported browser looks for the URL and if it is <span class="docutils literal"><span class="pre">https://</span></span> then executes the next steps as TLS task</p></li>
<li><p>browser sends TLS hello message where it proposes a crypto algorithm. like hey google I would like AES for encryption, RSA for signing or Diffie-Hellman key. browser does it use a tool named cipher suites</p></li>
<li><p>the server is configure to respond to those cipher suites and responds to the strongest algorithm the browser supports</p></li>
<li><p>when the algorithm is agreed upon the server exchanges the cert and browser verifies the authenticity of cert by verifying signature of cert with the embedded cert and accepts the cert</p></li>
<li><p>usually the domain name is included as common name in the cert and the browser checks if the common name is same as the domain name it is trying to connect</p></li>
<li><dl class="simple">
<dt>when the previous step succeeds the browser starts a key exchange. two type of key exchange is used</dt>
<dd><ul>
<li><p>Diffie-Hellman: first gen TLS used it</p></li>
<li><p>RSA: new gen TLS usages this as DH algorithm in venerable to MiTM</p></li>
<li><p>recent recommendation is to use the both together</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>now that the browser and server has established a shared secret thus a secure tunnel it starts data exchange and all key are derived from the shared secret</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS: basic key exchange</dt>
<dd><ul>
<li><p>the browser generates a random number R</p></li>
<li><p>it encrypts the number R with the public key of server and the output is C</p></li>
<li><p>C gets sent to server where the server decrypts C with it's private key and gets R</p></li>
<li><p>now both browser and server has the R, a shared secret and now all key can be derived from it</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS: forward secrecy</dt>
<dd><ul>
<li><p>forward secrecy is the concept that ensure that an encrypted piece of data will stay encrypted in the future</p></li>
<li><p>the traditional TLS with key exchange don't have forward secrecy</p></li>
<li><p>the C [from previous section] can be captured and try to decrypt it. once they do the will be able to compromise the server thus can get all the R of all client</p></li>
<li><p>RSA, for this reason is not forward secrecy proof but DH is.</p></li>
<li><p>As DH only exchanges each others public key and destroys the private key after the key exchange so it is impossible to get a private key of either the server or the browser</p></li>
<li><p>but DH can be attacked with MiTM. this problem is solved with RSA signed public key.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS: data encryption</dt>
<dd><ul>
<li><p>algorithm that can be used: DES, 3DES, AES, RC2, RC4, IDEA</p></li>
<li><dl class="simple">
<dt>it encrypts the following comms:</dt>
<dd><ul>
<li><p>all browser-server and server-browser except which browser is talking to which server (I think DOH does it??)</p></li>
<li><p>URL of requested document</p></li>
<li><p>contents of requested document</p></li>
<li><p>contents of submitted form</p></li>
<li><p>cookies from browser to server</p></li>
<li><p>cookies from server to browser</p></li>
<li><p>contents of HTTP header</p></li>
<li><p>JS comms</p></li>
<li><p>etc</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS: data integrity</dt>
<dd><ul>
<li><p>archived with message authentication code(MAC)</p></li>
<li><p>includes hash, shared secret and sequence</p></li>
<li><p>MAC is transmitted with the data</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS: authentication</dt>
<dd><ul>
<li><p>partial support with challenge-response system</p></li>
<li><p>during the cert exchange with the server [TLS: browser to server section] accepting the server cert don't provide authenticity but only the identity of the web server.</p></li>
<li><p>as anyone can send the public key aka cert if the browser wants to authenticate if the server is the one holding the private key for this particular public key, the browser challenges the server.</p></li>
<li><p>the challenge goes like this: the browser generates a random number, encrypts the number with the public key and sens it to the server asking to decrypt it with it's private key. If the server is the owner of the public key, it responds with the decrypted random number. the browser verifies the decrypted random number and authenticates.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS: Architecture</dt>
<dd><ul>
<li><p>handshake protocol: establishes the session</p></li>
<li><p>change cipher protocol: changes cipher when needed</p></li>
<li><p>alert protocol: sends error</p></li>
<li><p>TLS record protocol: used in confidentiality and integrity</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TLS record protocol:</dt>
<dd><ul>
<li><p>application data is broken down in to chunks of data knows as Record Protocol Units and the security is applied to this chunks of data. The important distinction to remember is that TLS is not applied to the whole data but to the chunks of data</p></li>
<li><p>each chunk is compressed and then the MAC of that compassed data is calculated</p></li>
<li><p>then we put the hash and the data together and encrypt it with the session key we established</p></li>
<li><p>finally the encrypted data is passed to the TCP layer, which then passes it to the IP layer</p></li>
<li><p>the whole process goes from down to up on the receiving end</p></li>
<li><p>the compression is done to save bandwidth and compute power thus saves time</p></li>
<li><p>if the compression was done after the encryption we wouldn't gain better compression</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Demo with Let's Encrypt</p></li>
<li><dl class="simple">
<dt>Email security</dt>
<dd><ul>
<li><p>PGP</p></li>
<li><p>S-MIME</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>PGP: popularity</dt>
<dd><ul>
<li><p>available free on verity of platform</p></li>
<li><p>no need for cert, anyone can use it</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>PGP: process</dt>
<dd><ul>
<li><p>first take the message</p></li>
<li><p>calculate the hash on the message and encrypt the hash of the message using the public key of the sender aka creates a digital cert</p></li>
<li><p>then the time stamp is added as a parameter and it becomes the signature of the massage. this step provides integrity, authenticity, non-repudiation</p></li>
<li><p>now we compress the message and the session key with it. then encrypt the compressed data with the session key with the recipients public key. this step provides the confidentiality</p></li>
<li><p>finally we encode as <span class="docutils literal">base64</span> as email is a hex based system.</p></li>
<li><p>when the recipient receives the message, he/she decrypt the header with his/her private key then gets the session key and the encrypted message</p></li>
<li><p>using the session key the message is decrypted</p></li>
<li><p>once decrypted user gets the signature and text. user now can verify the signature by calculating the hash of the message and matches it with the one that he received.</p></li>
<li><p>the protocol is based on web of trust and no central authority is defined</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>S-MIME</dt>
<dd><ul>
<li><p>extension of MIME standard</p></li>
<li><p>usages PKCS7 to create signed data [see slide 33 for the structure]</p></li>
<li><p>can also encrypt data with analog data structure [see slide 34 for the structure]</p></li>
<li><p>we first sign the data then encrypt the data</p></li>
<li><p>the data is encoded into our email body</p></li>
<li><p>you MUST need a standard public key cert for a CA</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>PGP demo with Mailvelope</p></li>
</ul>
</div>
<div class="section" id="source">
<h1>Source</h1>
</div>
</div>
<div class="footer">
<hr class="footer" />
<p><a class="reference external" href="/source/blogs/fdludcf_practical_cryptography_lesson_08.rst">View document source</a>.
Generated on: 2020-03-10 12:59 UTC.
</p>

</div>
</body>
</html>
